(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{178:function(t,e,r){"use strict";r.r(e);var _=r(0),s=Object(_.a)({},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),r("ul",[t._m(3),t._v(" "),t._m(4),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/JiangWeixian/tf-mobilenet-vue",target:"_blank",rel:"noopener noreferrer"}},[t._v("项目地址"),r("OutboundLink")],1)])]),t._v(" "),t._m(5),t._v(" "),r("p",[t._v("检测分为三个阶段：获取模型输入、进行检测和输出结果")]),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),r("p",[r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/MediaDevices/getUserMedia",target:"_blank",rel:"noopener noreferrer"}},[t._v("MDN-官方API参考"),r("OutboundLink")],1)]),t._v(" "),t._m(8),t._v(" "),t._m(9),t._v(" "),t._m(10),t._v(" "),t._m(11),t._v(" "),t._m(12),t._v(" "),t._m(13),t._v(" "),t._m(14),t._v(" "),t._m(15),t._v(" "),t._m(16),t._v(" "),r("p",[r("a",{attrs:{href:"https://js.tensorflow.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("tensorflow.js"),r("OutboundLink")],1)]),t._v(" "),t._m(17),t._v(" "),r("p",[t._v("如果想要训练的话，官方给了"),r("a",{attrs:{href:"https://js.tensorflow.org/tutorials/mnist.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("mnist例子"),r("OutboundLink")],1),t._v("。大体流程和"),r("code",[t._v("python")]),t._v("版本一致：")]),t._v(" "),r("ol",[r("li",[t._v("加载数据(包括输入和输出) - "),r("code",[t._v("data")]),t._v("通过"),r("code",[t._v("Image")]),t._v("数据并转化为"),r("code",[t._v("SVG")]),t._v("作为"),r("code",[t._v("image-data")]),t._v("，具体可看"),r("a",{attrs:{href:"https://github.com/tensorflow/tfjs-examples/blob/master/mnist/data.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("这里"),r("OutboundLink")],1),t._v("。")]),t._v(" "),r("li",[t._v("构建网络模型")]),t._v(" "),r("li",[t._v("设置误差更新目标函数，以及误差速率等")]),t._v(" "),r("li",[t._v("然后训练")])]),t._v(" "),r("p",[t._v("更多例子。")]),t._v(" "),r("p",[t._v("所以想要在更为复杂的数据集上训练并不合适：")]),t._v(" "),t._m(18),t._v(" "),t._m(19),t._v(" "),t._m(20),t._v(" "),t._m(21),t._v(" "),t._m(22),t._v(" "),t._m(23),t._v(" "),t._m(24),t._v(" "),t._m(25),t._v(" "),r("p",[t._v("关键就在于这个显示。")]),t._v(" "),t._m(26)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"tensorflow-vue"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#tensorflow-vue","aria-hidden":"true"}},[this._v("#")]),this._v(" Tensorflow+Vue")])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",[r("li",[r("a",{attrs:{href:"#tensorflowvue"}},[t._v("Tensorflow+Vue")]),t._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"#%E5%85%B3%E9%94%AE%E6%8A%80%E6%9C%AF"}},[t._v("关键技术")])]),t._v(" "),r("li",[r("a",{attrs:{href:"#%E6%B5%81%E7%A8%8B"}},[t._v("流程")])]),t._v(" "),r("li",[r("a",{attrs:{href:"#%E8%B0%83%E7%94%A8%E6%91%84%E5%83%8F%E5%A4%B4"}},[t._v("调用摄像头")]),t._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"#%E6%B5%81%E7%A8%8B-1"}},[t._v("流程")])])])]),t._v(" "),r("li",[r("a",{attrs:{href:"#%E6%A3%80%E6%B5%8B"}},[t._v("检测")]),t._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"#%E6%B5%81%E7%A8%8B-2"}},[t._v("流程")])])])]),t._v(" "),r("li",[r("a",{attrs:{href:"#%E6%98%BE%E7%A4%BA"}},[t._v("显示")]),t._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"#%E9%97%AE%E9%A2%98%E6%89%80%E5%9C%A8"}},[t._v("问题所在？")])])])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"关键技术"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#关键技术","aria-hidden":"true"}},[this._v("#")]),this._v(" 关键技术")])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[this._v("tensorflow.js and mobilenet - 都是"),e("code",[this._v("NPM")]),this._v("包")])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[this._v("调用手机"),e("code",[this._v("camera")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"流程"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#流程","aria-hidden":"true"}},[this._v("#")]),this._v(" 流程")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",[e("li",[this._v("获取输入 - 通过调用摄像头来获取输入图像")]),this._v(" "),e("li",[this._v("将摄像头得到的一帧图像作为模型输入")]),this._v(" "),e("li",[this._v("将模型的检测结果返回，并输出到屏幕上")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"调用摄像头"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#调用摄像头","aria-hidden":"true"}},[this._v("#")]),this._v(" 调用摄像头")])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",[r("li",[t._v("获取摄像头数目(前置和后置) - "),r("code",[t._v("navigator.mediaDevices.enumerateDevices")])]),t._v(" "),r("li",[t._v("获取摄像头 - "),r("code",[t._v("navigator.getUserMedia")]),t._v("，现在新的"),r("code",[t._v("API")]),t._v("是"),r("code",[t._v("navigator.mediaDevices.getUserMedia")]),t._v("。可以设置 "),r("strong",[t._v("视频，音频以及是否前置后置摄像头")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"流程-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#流程-2","aria-hidden":"true"}},[this._v("#")]),this._v(" 流程")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",[e("li",[this._v("初始化摄像头 - 针对不同浏览器统一接口函数")]),this._v(" "),e("li",[this._v("获取摄像头数目")]),this._v(" "),e("li",[this._v("将摄像头数目、音频和视频(是否开启)作为参数传递来开启摄像头")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("将视频流显示")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("结合"),e("code",[this._v("video")]),this._v("标签使用，设置"),e("code",[this._v("video.src")]),this._v("为获取得到视频流(MDN做了兼容处理)")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("截取其中某一帧")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("code",[this._v("SVG")]),this._v("具有画图功能")])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",[r("li",[r("code",[t._v("drawImage")]),t._v(" - 画图。在这个项目中，直接将"),r("code",[t._v("video")]),t._v("标签传递进来")]),t._v(" "),r("li",[r("code",[t._v("toDataURL")]),t._v(" - 将"),r("code",[t._v("svg")]),t._v("变为"),r("code",[t._v("image")]),t._v("的"),r("code",[t._v("src")]),t._v("，起到显示作用")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"检测"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#检测","aria-hidden":"true"}},[this._v("#")]),this._v(" 检测")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("在本例中，直接使用"),e("code",[this._v("tensorflow")]),this._v("的转换功能，将网络权重转换为网络模型。")])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ol",[r("li",[t._v("如果通过"),r("code",[t._v("nodejs")]),t._v("来辅助的话，为什么不使用"),r("code",[t._v("python-tensorflow")]),t._v("然后转化为"),r("code",[t._v("tensorflow.js")]),t._v("使用")]),t._v(" "),r("li",[t._v("如果可以想要以"),r("code",[t._v("mnist")]),t._v("方式训练，数据请求是一个大问题")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("这个一定要注意！也要说清楚。")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"流程-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#流程-3","aria-hidden":"true"}},[this._v("#")]),this._v(" 流程")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",[e("li",[this._v("加载网络模型 - 包括加载权重和构建网络")]),this._v(" "),e("li",[this._v("然后将 "),e("strong",[this._v("调用摄像头")]),this._v("中获得的图像作为输入。获得检测结果，接下来进入显示阶段。")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"显示"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#显示","aria-hidden":"true"}},[this._v("#")]),this._v(" 显示")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("了解了"),e("code",[this._v("debounce")]),this._v("之后，这部分还有改进部分。目前的方式是：")])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ol",[r("li",[t._v("检测得到结果，设置显示"),r("code",[t._v("flag=true")])]),t._v(" "),r("li",[t._v("如果检测到"),r("code",[t._v("flag")]),t._v("为"),r("code",[t._v("true")]),t._v("。就开始进入显示动画，显示动画持续一段时间，然后消失。")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"问题所在？"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#问题所在？","aria-hidden":"true"}},[this._v("#")]),this._v(" 问题所在？")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("因为如果连续点击检测按钮的话会有问题。可以参考"),e("code",[this._v("debounce")]),this._v("方法改进。")])}],!1,null,null,null);e.default=s.exports}}]);